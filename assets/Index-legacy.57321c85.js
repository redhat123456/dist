!function(){function e(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,a)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(a,o){var i=t.apply(n,r);function c(t){e(i,a,o,c,u,"next",t)}function u(t){e(i,a,o,c,u,"throw",t)}c(void 0)}))}}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){c=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./useComposables-legacy.b3cf5d97.js","./useRequestor-legacy.7584c3c3.js","./vendor-legacy.5dd500bd.js","./index-legacy.0726abb6.js"],(function(e){"use strict";var r,a,o,i,c,u,l;return{setters:[function(e){r=e.u},function(e){a=e.u,o=e.a},function(e){i=e.r,c=e.d,u=e.w},function(e){l=e.n}],execute:function(){var s=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function d(e,t){var n="".concat(s.Basic,"/").concat(e);return t&&(n+="/".concat(t)),a.request({url:n,responseType:"text"})}s.Basic="/log";var f={};f.setup=function(e,l){var f=function(){var e=i([]),l=i([]),f=n(r(!1),2),p=f[0],v=f[1],h=c((function(){return!!l.value.length})),m=c((function(){var e=n(l.value,2),t=e[0],r=e[1],a=t;return r&&(a+="-".concat(r)),a})),y=function(){var n=t(regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v(!0),t.next=4,a.request({url:s.Basic});case 4:n=t.sent,r=n.data,o=r.names,i=r.history,e.value=o.map((function(e){return{label:e,value:e,children:i[e].map((function(e){return{label:e,value:e}}))}})),l.value=[e.value[0].value],t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:return t.prev=13,v(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,11,13,16]])})));return function(){return n.apply(this,arguments)}}(),b=n(r(""),2),g=b[0],w=b[1],x=function(){var e=t(regeneratorRuntime.mark((function e(){var t,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),t=n(l.value,2),r=t[0],a=t[1],e.next=5,d(r,a);case 5:i=e.sent,setTimeout((function(){w(i)}),1e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o("error","拉取日志失败，请刷新或稍后重试~");case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{v(!0),t=new Blob([g.value],{type:"text/plain;charset=utf-8"}),n=document.createElement("a"),r=window.URL.createObjectURL(t),n.href=r,n.download=m.value,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r)}catch(a){}finally{v(!1)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return y(),u(l,x),{options:e,currentOption:l,text:g,loading:p,disabled:h,requestText:x,handleDownload:k}}();return{options:f.options,currentOption:f.currentOption,text:f.text,loading:f.loading,disabled:f.disabled,requestText:f.requestText,handleDownload:f.handleDownload}};var p={},v=l(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tooltip",{attrs:{effect:"dark",content:"刷新"}},[n("el-button",{attrs:{circle:"",size:"small",type:"primary",icon:"el-icon-refresh",loading:e.loading,disabled:!e.disabled},on:{click:e.requestText}})],1),n("el-divider",{attrs:{direction:"vertical"}}),n("el-cascader",{attrs:{size:"small",placeholder:"请选择模块（日期可选）",props:{checkStrictly:!0},options:e.options},model:{value:e.currentOption,callback:function(t){e.currentOption=t},expression:"currentOption"}}),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-download",loading:e.loading,disabled:!e.disabled},on:{click:e.handleDownload}},[n("span",[e._v("下载")])]),n("el-divider"),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("pre",{staticStyle:{height:"100%"}},[e._v(e._s(e.text))])])],1)}),[],!1,h,null,null,null);function h(e){for(var t in p)this[t]=p[t]}e("default",function(){return v.exports}())}}}))}();
