import{p as r,i as n,r as t}from"./vendor.b8049c8b.js";function e(t){const e=function(r){return Symbol(r.name)}(t);return{serviceRegister:(...n)=>{const o=t(...n);return r(e,o),o},serviceDiscovery:()=>{const r=n(e);if(!r)throw new Error(`[${t.name}-${e}]-服务未注册 ~`);return r}}}function o(r){const n=t(r);return[n,r=>n.value=r]}function c(r,n,t=!0){const[e,c]=o(!1),[s,a]=o(),[i,u]=o(n),f=async()=>{try{c(!0);const n=await r();u(n)}catch(n){a(n)}finally{c(!1)}};return t&&f(),[f,i,e,{error:s}]}export{c as a,e as c,o as u};
